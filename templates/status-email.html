<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Application Status Update</title>
</head>
<body style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0;">
  <div style="max-width: 600px; margin: 0 auto; padding: 20px;">
    <!-- Header -->
    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 30px; text-align: center; border-radius: 10px 10px 0 0;">
      <h1 style="color: white; margin: 0; font-size: 24px;">{{company}}</h1>
    </div>
    
    <!-- Content -->
    <div style="background: white; padding: 40px; border: 1px solid #e9ecef; border-top: none; border-radius: 0 0 10px 10px;">
      <h2 style="color: #2d3748; margin-top: 0;">Application Status Update</h2>
      
      <p style="font-size: 16px;">Dear <strong>{{name}}</strong>,</p>
      
      {{#if_eq status "shortlisted"}}
      <div style="background: #f0fff4; border-left: 4px solid #38a169; padding: 20px; margin: 20px 0;">
        <p style="margin: 0; color: #22543d; font-size: 18px;">ðŸŽ‰ Congratulations!</p>
        <p style="margin-top: 10px; color: #276749;">You have been shortlisted for the position!</p>
      </div>
      {{/if_eq}}
      
      {{#if_eq status "hired"}}
      <div style="background: #ebf8ff; border-left: 4px solid #3182ce; padding: 20px; margin: 20px 0;">
        <p style="margin: 0; color: #2c5282; font-size: 20px;">ðŸŽŠ WELCOME TO THE TEAM!</p>
        <p style="margin-top: 10px; color: #2b6cb0;">We're excited to have you on board!</p>
      </div>
      {{/if_eq}}
      
      {{#if_eq status "rejected"}}
      <div style="background: #fff5f5; border-left: 4px solid #e53e3e; padding: 20px; margin: 20px 0;">
        <p style="margin: 0; color: #742a2a;">Thank you for your interest. This was a difficult decision.</p>
      </div>
      {{/if_eq}}
      
      <div style="background: #f7fafc; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <p style="margin: 0;"><strong>Position:</strong> {{jobTitle}}</p>
        <p style="margin: 10px 0 0 0;"><strong>Status:</strong> 
          <span style="display: inline-block; padding: 5px 12px; border-radius: 20px; font-size: 14px; font-weight: 600;
            {{#if_eq status "pending"}}background: #fefcbf; color: #744210;{{/if_eq}}
            {{#if_eq status "reviewed"}}background: #bee3f8; color: #2c5282;{{/if_eq}}
            {{#if_eq status "shortlisted"}}background: #c6f6d5; color: #22543d;{{/if_eq}}
            {{#if_eq status "interview"}}background: #feebc8; color: #744210;{{/if_eq}}
            {{#if_eq status "hired"}}background: #9ae6b4; color: #22543d;{{/if_eq}}
            {{#if_eq status "rejected"}}background: #fed7d7; color: #742a2a;{{/if_eq}}
          ">
            {{status}}
          </span>
        </p>
      </div>
      
      {{#if note}}
      <div style="margin: 20px 0;">
        <h3 style="color: #4a5568; font-size: 16px;">Additional Note:</h3>
        <p style="background: #f7fafc; padding: 15px; border-radius: 5px;">{{note}}</p>
      </div>
      {{/if}}
      
      <hr style="border: none; border-top: 1px solid #e2e8f0; margin: 30px 0;">
      
      <p style="color: #718096; font-size: 14px; text-align: center;">
        This is an automated message from {{company}}'s application tracking system.<br>
        Please do not reply to this email.
      </p>
    </div>
  </div>
  
  <!-- Handlebars helper for if_eq -->
  <script>
    Handlebars.registerHelper('if_eq', function(a, b, opts) {
      if (a == b) {
        return opts.fn(this);
      } else {
        return opts.inverse(this);
      }
    });
  </script>
</body>
</html>